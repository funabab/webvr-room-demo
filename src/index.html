<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WebVR Shop</title>
  </head>
  <style>
    #loading-screen {
      position: absolute;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;

      background: white;
      z-index: 10000;
      display: flex;
      padding: 2rem;
      gap: 2rem;
      box-sizing: border-box;

      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 1.8rem;
      color: rgb(59, 59, 59);
    }

    #loading-screen .left {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    #loading-screen .right {
      background: url(/textures/banner.png) no-repeat center/cover;
      flex: 2;
    }

    #loading-action-container {
      margin-top: 2rem;
      text-align: center;
    }

    #btn-action {
      padding: 1rem 3rem;
      display: inline-block;
      margin: 1rem 0;
      display: none;
    }
  </style>
  <body>
    <a-scene loading-screen="enabled: true; " cursor="rayOrigin: mouse"
      <%= process.env.NODE_ENV === "development" ? `inspector="url: /inspector/aframe-inspector.min.js"` : "" %>
      preloader>
      <a-assets>
        <a-asset-item src="/models/bedroom/bedroom.gltf" id="model-bedroom"></a-asset-item>
        <a-asset-item src="/models/bedroom/chair_01.gltf" id="model-chair01"></a-asset-item>
        <a-asset-item src="/models/bedroom/chair_02.gltf" id="model-chair02"></a-asset-item>
        <a-asset-item src="/models/bedroom/bed.gltf" id="model-bed"></a-asset-item>
        <a-asset-item src="/models/bedroom/tv_stand.gltf" id="model-tv_stand"></a-asset-item>
        <a-asset-item src="/models/bedroom/mattress.gltf" id="model-mattress"></a-asset-item>
        <a-asset-item src="/models/bedroom/navmesh.obj" id="model-navmesh"></a-asset-item>
        <a-asset-item src="/models/bedroom/window.obj" id="model-window"></a-asset-item>
        <a-mixin id="anim-hover" animation__mouseenter="property: scale; to: 0.14 0.14 0.14; startEvents: mouseenter; dur: 250;" animation__mouseleave="property: scale; to: 0.1 0.1 0.1; startEvents: mouseleave; dur: 250;"></a-mixin>
        <img src="/textures/sky.jpg" id="tex-sky">
      </a-assets>
        <a-sky src="#tex-sky" rotation="0 40 0"></a-sky>
        <a-entity gltf-model="#model-bedroom"></a-entity>
        <a-entity>
          <a-entity id="chair01" gltf-model="#model-chair01" tintable></a-entity>
          <a-entity id="ui-chair01" position="0.260 0.150 0.190">
            <a-text value="CHAIR 01" material="shader: flat;" position="0.696 0.707 1.833" rotation="0 180 0" scale="0.3 0.3 0.3"></a-text>
            <a-text value="Comfortable for siting" material="shader: flat;" position="0.685 0.66 1.833" rotation="0 180 0" scale="0.2 0.2 0.2"></a-text>
            <a-plane width="0.540" height="0.010" position="0.421 0.613 1.833" rotation="0 180 0" color="white" material="shader: flat;"></a-plane>
            <a-plane position="0.646 0.806 1.833" rotation="0 180 0" scale="0.1 0.1 0.1" color="red" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #chair01; tintable.color: red;"></a-plane>
            <a-plane position="0.511 0.806 1.833" rotation="0 180 0" scale="0.1 0.1 0.1" color="green" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #chair01; tintable.color: green;"></a-plane>
            <a-plane position="0.369 0.806 1.833" rotation="0 180 0" scale="0.1 0.1 0.1" color="blue" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #chair01; tintable.color: blue;"></a-plane>
            <a-plane position="0.244 0.806 1.833" rotation="0 180 0" scale="0.1 0.1 0.1" color="yellow" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #chair01; tintable.color: yellow;"></a-plane>

            <a-plane position="0.416 0.700 1.835" rotation="0 180 0" scale="0.6 0.5 0.5" color="white" material="opacity: 0.4; transparent: true;"></a-plane>

          </a-entity>
        </a-entity>
        <a-entity>
          <a-entity id="chair02" gltf-model="#model-chair02" tintable></a-entity>
          <a-entity id="ui-chair02" position="-1.034 0.150 0.190">
            <a-text value="CHAIR 02" material="shader: flat;" position="0.696 0.707 1.833" rotation="0 180 0" scale="0.3 0.3 0.3"></a-text>
            <a-text value="Another siting chair" material="shader: flat;" position="0.685 0.66 1.833" rotation="0 180 0" scale="0.2 0.2 0.2"></a-text>
            <a-plane width="0.540" height="0.010" position="0.421 0.613 1.833" rotation="0 180 0" color="white" material="shader: flat;"></a-plane>
            <a-plane position="0.646 0.806 1.833" rotation="0 180 0" scale="0.1 0.1 0.1" color="red" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #chair02; tintable.color: red;"></a-plane>
            <a-plane position="0.511 0.806 1.833" rotation="0 180 0" scale="0.1 0.1 0.1" color="green" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #chair02; tintable.color: green;"></a-plane>
            <a-plane position="0.369 0.806 1.833" rotation="0 180 0" scale="0.1 0.1 0.1" color="blue" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #chair02; tintable.color: blue;"></a-plane>
            <a-plane position="0.244 0.806 1.833" rotation="0 180 0" scale="0.1 0.1 0.1" color="yellow" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #chair02; tintable.color: yellow;"></a-plane>

            <a-plane position="0.416 0.700 1.835" rotation="0 180 0" scale="0.6 0.5 0.5" color="white" material="opacity: 0.4; transparent: true;"></a-plane>
          </a-entity>
        </a-entity>
        <a-entity>
          <a-entity id="bed" gltf-model="#model-bed" tintable></a-entity>
            <a-entity id="ui-bed" position="-0.030 -1.422 -1.120" rotation="-90 -90 0">
                <a-text value="Bed" color="black" material="shader: flat;" position="0.184 0.707 1.833" scale="0.3 0.3 0.3"></a-text>
                <a-text value="Sweet bed" color="black" material="shader: flat;" position="0.191 0.657 1.833" scale="0.2 0.2 0.2"></a-text>
                <a-plane width="0.540" height="0.010" position="0.436 0.600 1.833" color="black" material="shader: flat;"></a-plane>
                <a-plane position="0.646 0.806 1.833" scale="0.1 0.1 0.1" color="red" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #mattress; tintable.color: red;"></a-plane>
                <a-plane position="0.511 0.806 1.833" scale="0.1 0.1 0.1" color="green" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #mattress; tintable.color: green;"></a-plane>
                <a-plane position="0.369 0.806 1.833" scale="0.1 0.1 0.1" color="blue" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #mattress; tintable.color: blue;"></a-plane>
                <a-plane position="0.244 0.806 1.833" scale="0.1 0.1 0.1" color="yellow" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #mattress; tintable.color: yellow;"></a-plane>
    
                <a-plane position="0.439 0.700 1.829" scale="0.6 0.5 0.5" color="white" material="opacity: 0.4; transparent: true;"></a-plane>
            </a-entity>

       </a-entity>
        <a-entity id="mattress" gltf-model="#model-mattress" tintable></a-entity>
        <a-entity>
          <a-entity id="tv_stand" gltf-model="#model-tv_stand" gltf-model="#model-mattress" tintable></a-entity>
          <a-entity id="ui-tb_stand" position="0.265 0.856 -0.106" rotation="0 -90 0">
            <a-entity position="0.933 0 3.670" rotation="0 180 0">
              <a-text value="TV" material="shader: flat;" position="0.201 0.707 1.843" scale="0.3 0.3 0.3"></a-text>
              <a-text value="Watch Something nice" material="shader: flat;" position="0.192 0.645 1.833" scale="0.2 0.2 0.2"></a-text>
              <a-plane width="0.496" height="0.010" position="0.488 0.609 1.833" color="white" material="shader: flat;"></a-plane>
              <a-plane position="0.646 0.806 1.833" scale="0.1 0.1 0.1" color="red" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #tv_stand; tintable.color: red;"></a-plane>
              <a-plane position="0.511 0.806 1.833" scale="0.1 0.1 0.1" color="green" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #tv_stand; tintable.color: green;"></a-plane>
              <a-plane position="0.369 0.806 1.833" scale="0.1 0.1 0.1" color="blue" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #tv_stand; tintable.color: blue;"></a-plane>
              <a-plane position="0.244 0.806 1.833" scale="0.1 0.1 0.1" color="yellow" material="shader: flat;" mixin="anim-hover" event-set__click="_event: click; _target: #tv_stand; tintable.color: yellow;"></a-plane>
              <a-plane position="0.449 0.700 1.825" scale="0.6 0.5 0.5" color="white" material="opacity: 0.4; transparent: true;"></a-plane>
            </a-entity>

            <a-plane position="-0.5 -0.042 1.833" rotation="0 180 0" scale="1.390 1.730 1.000" color="white" material="opacity: 0.4; transparent: true;"></a-plane>
          </a-entity>
        </a-entity>
        <a-entity obj-model="obj: #model-window" material="color: white; side: double; opacity: 0.660; transparent: true;"></a-entity>
      <a-entity obj-model="obj: #model-navmesh" id="navmesh" visible="false"></a-entity>
      <a-entity id="cameraRig" cursor-teleport="cameraRig: #cameraRig; cameraHead: #head; collisionEntities: #navmesh;">

        <a-entity id="head" camera="fov: 75;" position="0 1.4 0" look-controls>
        </a-entity>
        <a-entity id="left-hand" teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; collisionEntities: #navmesh;"></a-entity>
        <a-entity id="right-hand" teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; collisionEntities: #navmesh;"></a-entity>
      </a-entity>
    </a-scene>

    <div id="loading-screen">
      <div class="left">
        <h1>
          WebVR <br>
          ROOM DEMO
        </h1>

        <div id="loading-action-container">
          <img id="img-preloader" src="/textures/spinner.gif"> <br>
          <button id="btn-action">Go to Demo</button>
        </div>
      </div>
      <div class="right"></div>
    </div>
  </body>
</html>
